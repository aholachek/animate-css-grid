!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.animateCSSGrid=n():t.animateCSSGrid=n()}(window,(function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=14)}([function(t,n){t.exports=function(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}},function(t,n,e){var r=e(4),o=e(0),i="Expected a function";t.exports=function(t,n,e){var u=!0,a=!0;if("function"!=typeof t)throw new TypeError(i);return o(e)&&(u="leading"in e?!!e.leading:u,a="trailing"in e?!!e.trailing:a),r(t,n,{leading:u,maxWait:n,trailing:a})}},function(t,n,e){var r=e(6),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,n,e){var r=e(2).Symbol;t.exports=r},function(t,n,e){var r=e(0),o=e(5),i=e(8),u="Expected a function",a=Math.max,c=Math.min;t.exports=function(t,n,e){var f,s,p,l,d,v,h=0,m=!1,g=!1,y=!0;if("function"!=typeof t)throw new TypeError(u);function b(n){var e=f,r=s;return f=s=void 0,h=n,l=t.apply(r,e)}function w(t){var e=t-v;return void 0===v||e>=n||e<0||g&&t-h>=p}function O(){var t=o();if(w(t))return x(t);d=setTimeout(O,function(t){var e=n-(t-v);return g?c(e,p-(t-h)):e}(t))}function x(t){return d=void 0,y&&f?b(t):(f=s=void 0,l)}function j(){var t=o(),e=w(t);if(f=arguments,s=this,v=t,e){if(void 0===d)return function(t){return h=t,d=setTimeout(O,n),m?b(t):l}(v);if(g)return clearTimeout(d),d=setTimeout(O,n),b(v)}return void 0===d&&(d=setTimeout(O,n)),l}return n=i(n)||0,r(e)&&(m=!!e.leading,p=(g="maxWait"in e)?a(i(e.maxWait)||0,n):p,y="trailing"in e?!!e.trailing:y),j.cancel=function(){void 0!==d&&clearTimeout(d),h=0,f=v=s=d=void 0},j.flush=function(){return void 0===d?l:x(o())},j}},function(t,n,e){var r=e(2);t.exports=function(){return r.Date.now()}},function(t,n,e){(function(n){var e="object"==typeof n&&n&&n.Object===Object&&n;t.exports=e}).call(this,e(7))},function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){var r=e(0),o=e(9),i=NaN,u=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,f=/^0o[0-7]+$/i,s=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return i;if(r(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=r(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var e=c.test(t);return e||f.test(t)?s(t.slice(2),e?2:8):a.test(t)?i:+t}},function(t,n,e){var r=e(10),o=e(13),i="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||o(t)&&r(t)==i}},function(t,n,e){var r=e(3),o=e(11),i=e(12),u="[object Null]",a="[object Undefined]",c=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?a:u:c&&c in Object(t)?o(t):i(t)}},function(t,n,e){var r=e(3),o=Object.prototype,i=o.hasOwnProperty,u=o.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var n=i.call(t,a),e=t[a];try{t[a]=void 0;var r=!0}catch(t){}var o=u.call(t);return r&&(n?t[a]=e:delete t[a]),o}},function(t,n){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},function(t,n){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,n,e){"use strict";e.r(n);var r=function(t){return function(n){return 1-t(1-n)}},o=function(t){return function(n){return n<=.5?t(2*n)/2:(2-t(2*(1-n)))/2}},i=function(t){return function(n){return n*n*((t+1)*n-t)}},u=function(t){var n=i(t);return function(t){return(t*=2)<1?.5*n(t):.5*(2-Math.pow(2,-10*(t-1)))}},a=function(t){return function(n){return Math.pow(n,t)}}(2),c=r(a),f=o(a),s=function(t){return 1-Math.sin(Math.acos(t))},p=r(s),l=o(p),d=i(1.525),v=r(d),h=o(d),m=u(1.525);var g,y=0,b="undefined"!=typeof window&&void 0!==window.requestAnimationFrame?function(t){return window.requestAnimationFrame(t)}:function(t){var n=Date.now(),e=Math.max(0,16.7-(n-y));y=n+e,setTimeout((function(){return t(y)}),e)};!function(t){t.Read="read",t.Update="update",t.Render="render",t.PostRender="postRender",t.FixedUpdate="fixedUpdate"}(g||(g={}));var w=1/60*1e3,O=!0,x=!1,j=!1,M={delta:0,timestamp:0},C=[g.Read,g.Update,g.Render,g.PostRender],P=function(t){return x=t},S=C.reduce((function(t,n){var e,r,o,i,u,a,c,f,s,p=(e=P,r=[],o=[],i=0,u=!1,a=0,c=new WeakSet,f=new WeakSet,s={cancel:function(t){var n=o.indexOf(t);c.add(t),-1!==n&&o.splice(n,1)},process:function(t){var n,p;if(u=!0,r=(n=[o,r])[0],(o=n[1]).length=0,i=r.length)for(a=0;a<i;a++)(p=r[a])(t),!0!==f.has(p)||c.has(p)||(s.schedule(p),e(!0));u=!1},schedule:function(t,n,e){var a=e&&u,c=a?r:o;n&&f.add(t),-1===c.indexOf(t)&&(c.push(t),a&&(i=r.length))}});return t.sync[n]=function(t,n,e){return void 0===n&&(n=!1),void 0===e&&(e=!1),x||Y(),p.schedule(t,n,e),t},t.cancelSync[n]=function(t){return p.cancel(t)},t.steps[n]=p,t}),{steps:{},sync:{},cancelSync:{}}),A=S.steps,E=S.sync,R=S.cancelSync,T=function(t){return A[t].process(M)},X=function(t){x=!1,M.delta=O?w:Math.max(Math.min(t-M.timestamp,40),1),O||(w=M.delta),M.timestamp=t,j=!0,C.forEach(T),j=!1,x&&(O=!1,b(X))},Y=function(){x=!0,O=!0,j||b(X)},k=E,_=e(1),F=e.n(_),I=function(t,n){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)};function $(t,n){function e(){this.constructor=t}I(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var N=function(){return(N=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};function W(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&(e[r[o]]=t[r[o]])}return e}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var B=function(){return(B=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},G=function(t,n){return function(e){return Math.max(Math.min(e,n),t)}},L=function(t){return function(n){return"string"==typeof n&&0===n.indexOf(t)}},q=function(t){return t%1?Number(t.toFixed(5)):t},U={test:function(t){return"number"==typeof t},parse:parseFloat,transform:function(t){return t}},V=(B({},U,{transform:G(0,1)}),B({},U,{default:1}),function(t){return{test:function(n){return"string"==typeof n&&n.endsWith(t)&&1===n.split(" ").length},parse:parseFloat,transform:function(n){return""+n+t}}}),z=V("deg"),D=V("%"),H=V("px"),K=V("vh"),J=V("vw"),Q=G(0,255),Z=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))$/i,tt=function(t){return void 0!==t.red},nt=function(t){return void 0!==t.hue},et=function(t){var n=t.length;return function(e){if("string"!=typeof e)return e;for(var r,o={},i=function(t){return"string"==typeof t?t.split(/,\s*/):[t]}((r=e).substring(r.indexOf("(")+1,r.lastIndexOf(")"))),u=0;u<n;u++)o[t[u]]=void 0!==i[u]?parseFloat(i[u]):1;return o}},rt=B({},U,{transform:function(t){return Math.round(Q(t))}}),ot=L("rgb"),it={test:function(t){return"string"==typeof t?ot(t):tt(t)},parse:et(["red","green","blue","alpha"]),transform:function(t){var n=t.red,e=t.green,r=t.blue,o=t.alpha;return function(t){var n=t.red,e=t.green,r=t.blue,o=t.alpha;return"rgba("+n+", "+e+", "+r+", "+(void 0===o?1:o)+")"}({red:rt.transform(n),green:rt.transform(e),blue:rt.transform(r),alpha:q(o)})}},ut=L("hsl"),at={test:function(t){return"string"==typeof t?ut(t):nt(t)},parse:et(["hue","saturation","lightness","alpha"]),transform:function(t){var n=t.hue,e=t.saturation,r=t.lightness,o=t.alpha;return function(t){var n=t.hue,e=t.saturation,r=t.lightness,o=t.alpha;return"hsla("+n+", "+e+", "+r+", "+(void 0===o?1:o)+")"}({hue:Math.round(n),saturation:D.transform(q(e)),lightness:D.transform(q(r)),alpha:q(o)})}},ct=B({},it,{test:L("#"),parse:function(t){var n="",e="",r="";return t.length>4?(n=t.substr(1,2),e=t.substr(3,2),r=t.substr(5,2)):(n=t.substr(1,1),e=t.substr(2,1),r=t.substr(3,1),n+=n,e+=e,r+=r),{red:parseInt(n,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:1}}}),ft={test:function(t){return"string"==typeof t&&Z.test(t)||it.test(t)||at.test(t)||ct.test(t)},parse:function(t){return it.test(t)?it.parse(t):at.test(t)?at.parse(t):ct.test(t)?ct.parse(t):t},transform:function(t){return tt(t)?it.transform(t):nt(t)?at.transform(t):t}},st=/(-)?(\d[\d\.]*)/g,pt=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,lt=function(t){if("string"!=typeof t||!isNaN(t))return!1;var n=0,e=t.match(st),r=t.match(pt);return e&&(n+=e.length),r&&(n+=r.length),n>0},dt=function(t){var n=t,e=[],r=n.match(pt);r&&(n=n.replace(pt,"${c}"),e.push.apply(e,r.map(ft.parse)));var o=n.match(st);return o&&e.push.apply(e,o.map(U.parse)),e},vt=function(t){var n=t,e=0,r=t.match(pt),o=r?r.length:0;if(r)for(var i=0;i<o;i++)n=n.replace(r[i],"${c}"),e++;var u=n.match(st),a=u?u.length:0;if(u)for(i=0;i<a;i++)n=n.replace(u[i],"${n}"),e++;return function(t){for(var r=n,i=0;i<e;i++)r=r.replace(i<o?"${c}":"${n}",i<o?ft.transform(t[i]):q(t[i]));return r}};var ht=function(t){return"number"==typeof t},mt=function(t){return function(n,e,r){return void 0!==r?t(n,e,r):function(r){return t(n,e,r)}}},gt=mt((function(t,n,e){return Math.min(Math.max(e,t),n)})),yt=function(t,n,e){var r=n-t;return 0===r?1:(e-t)/r},bt=function(t,n,e){return-e*t+e*n+t},wt=function(){return(wt=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},Ot=function(t,n,e){var r=t*t,o=n*n;return Math.sqrt(e*(o-r)+r)},xt=[ct,it,at],jt=function(t){return xt.find((function(n){return n.test(t)}))},Mt=function(t,n){var e=jt(t),r=jt(n);e.transform,r.transform;var o=e.parse(t),i=r.parse(n),u=wt({},o),a=e===at?bt:Ot;return function(t){for(var n in u)"alpha"!==n&&(u[n]=a(o[n],i[n],t));return u.alpha=bt(o.alpha,i.alpha,t),e.transform(u)}},Ct=function(t,n){return function(e){return n(t(e))}},Pt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.reduce(Ct)},St=function(t,n){var e=t.slice(),r=e.length,o=t.map((function(t,e){var r=n[e];return ht(t)?function(n){return bt(t,r,n)}:ft.test(t)?Mt(t,r):At(t,r)}));return function(t){for(var n=0;n<r;n++)e[n]=o[n](t);return e}},At=function(t,n){var e=vt(t);return e(t),vt(n)(t),Pt(St(dt(t),dt(n)),e)},Et=(mt(bt),function(t){return t}),Rt=function(t){return void 0===t&&(t=Et),mt((function(n,e,r){var o=e-r,i=-(0-n+1)*(0-t(Math.abs(o)));return o<=0?e+i:e-i}))},Tt=(Rt(),Rt(Math.sqrt),mt((function(t,n,e){var r=n-t;return((e-t)%r+r)%r+t})),gt(0,1),function(t){return function(n){return 1-t(1-n)}}),Xt=function(t){return t},Yt=function(t){return function(n){return Math.pow(n,t)}}(2),kt=Tt(Yt);var _t=function(){function t(t){void 0===t&&(t={}),this.props=t}return t.prototype.applyMiddleware=function(t){return this.create(N({},this.props,{middleware:this.props.middleware?[t].concat(this.props.middleware):[t]}))},t.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=1===t.length?t[0]:Pt.apply(void 0,t);return this.applyMiddleware((function(t){return function(n){return t(e(n))}}))},t.prototype.while=function(t){return this.applyMiddleware((function(n,e){return function(r){return t(r)?n(r):e()}}))},t.prototype.filter=function(t){return this.applyMiddleware((function(n){return function(e){return t(e)&&n(e)}}))},t}(),Ft=function(){return function(t,n){var e=t.middleware,r=t.onComplete,o=this;this.isActive=!0,this.update=function(t){o.observer.update&&o.updateObserver(t)},this.complete=function(){o.observer.complete&&o.isActive&&o.observer.complete(),o.onComplete&&o.onComplete(),o.isActive=!1},this.error=function(t){o.observer.error&&o.isActive&&o.observer.error(t),o.isActive=!1},this.observer=n,this.updateObserver=function(t){return n.update(t)},this.onComplete=r,n.update&&e&&e.length&&e.forEach((function(t){return o.updateObserver=t(o.updateObserver,o.complete)}))}}(),It=function(t,n,e){var r=n.middleware;return new Ft({middleware:r,onComplete:e},"function"==typeof t?{update:t}:t)},$t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return $(n,t),n.prototype.create=function(t){return new n(t)},n.prototype.start=function(t){void 0===t&&(t={});var n=!1,e={stop:function(){}},r=this.props,o=r.init,i=W(r,["init"]),u=o(It(t,i,(function(){n=!0,e.stop()})));return e=u?N({},e,u):e,t.registerParent&&t.registerParent(e),n&&e.stop(),e},n}(_t),Nt=function(t){return new $t({init:t})},Wt=function(t){var n=t.getCount,e=t.getFirst,r=t.getOutput,o=t.mapApi,i=t.setProp,u=t.startActions;return function(t){return Nt((function(a){var c=a.update,f=a.complete,s=a.error,p=n(t),l=r(),d=function(){return c(l)},v=0,h=u(t,(function(t,n){var e=!1;return t.start({complete:function(){e||(e=!0,++v===p&&k.update(f))},error:s,update:function(t){i(l,n,t),k.update(d,!1,!0)}})}));return Object.keys(e(h)).reduce((function(t,n){return t[n]=o(h,n),t}),{})}))}},Bt=Wt({getOutput:function(){return{}},getCount:function(t){return Object.keys(t).length},getFirst:function(t){return t[Object.keys(t)[0]]},mapApi:function(t,n){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Object.keys(t).reduce((function(r,o){var i;return t[o][n]&&(e[0]&&void 0!==e[0][o]?r[o]=t[o][n](e[0][o]):r[o]=(i=t[o])[n].apply(i,e)),r}),{})}},setProp:function(t,n,e){return t[n]=e},startActions:function(t,n){return Object.keys(t).reduce((function(e,r){return e[r]=n(t[r],r),e}),{})}}),Gt=Wt({getOutput:function(){return[]},getCount:function(t){return t.length},getFirst:function(t){return t[0]},mapApi:function(t,n){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.map((function(t,r){if(t[n])return Array.isArray(e[0])?t[n](e[0][r]):t[n].apply(t,e)}))}},setProp:function(t,n,e){return t[n]=e},startActions:function(t,n){return t.map((function(t,e){return n(t,e)}))}}),Lt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Gt(t)},qt=[H,D,z,K,J],Ut=function(t){return qt.find((function(n){return n.test(t)}))},Vt=function(t,n){return t(n)},zt=function(t,n,e){var r=e[0],o=n[r].map((function(r,o){var i=e.reduce(function(t){return function(n,e){return n[e]=n[e][t],n}}(o),N({},n));return Zt(r)(t,i)}));return Lt.apply(void 0,o)},Dt=function(t,n,e){var r=e[0],o=Object.keys(n[r]).reduce((function(o,i){var u=e.reduce(function(t){return function(n,e){return n[e]=n[e][t],n}}(i),N({},n));return o[i]=Zt(n[r][i])(t,u),o}),{});return Bt(o)},Ht=function(t,n){var e=n.from,r=n.to,o=W(n,["from","to"]),i=Ut(e)||Ut(r),u=i.transform,a=i.parse;return t(N({},o,{from:"string"==typeof e?a(e):e,to:"string"==typeof r?a(r):r})).pipe(u)},Kt=function(t,n){var e=n.from,r=n.to,o=W(n,["from","to"]);return t(N({},o,{from:0,to:1})).pipe(Mt(e,r),ft.transform)},Jt=function(t,n){var e=n.from,r=n.to,o=W(n,["from","to"]),i=vt(e);return i(e),vt(r)(e),t(N({},o,{from:0,to:1})).pipe(St(dt(e),dt(r)),i)},Qt=function(t,n){var e=function(t){var n=Object.keys(t),e=function(n,e){return void 0!==n&&!t[e](n)};return{getVectorKeys:function(t){return n.reduce((function(n,r){return e(t[r],r)&&n.push(r),n}),[])},testVectorProps:function(t){return t&&n.some((function(n){return e(t[n],n)}))}}}(n),r=e.testVectorProps,o=e.getVectorKeys;return function(n){if(!r(n))return t(n);var e=o(n),i=n[e[0]];return Zt(i)(t,n,e)}},Zt=function(t){var n=Vt;return"number"==typeof t?n=Vt:Array.isArray(t)?n=zt:!function(t){return Boolean(Ut(t))}(t)?ft.test(t)?n=Kt:lt(t)?n=Jt:"object"==typeof t&&(n=Dt):n=Ht,n},tn=Qt((function(t){var n=t.from,e=void 0===n?0:n,r=t.to,o=void 0===r?1:r,i=t.ease,u=void 0===i?Xt:i;return Nt((function(t){var n=t.update;return{seek:function(t){return n(t)}}})).pipe(u,(function(t){return bt(e,o,t)}))}),{ease:function(t){return"function"==typeof t},from:U.test,to:U.test}),nn=gt(0,1),en=function(t){return void 0===t&&(t={}),Nt((function(n){var e,r=n.update,o=n.complete,i=t.duration,u=void 0===i?300:i,a=t.ease,c=void 0===a?kt:a,f=t.flip,s=void 0===f?0:f,p=t.loop,l=void 0===p?0:p,d=t.yoyo,v=void 0===d?0:d,h=t.from,m=void 0===h?0:h,g=t.to,y=void 0===g?1:g,b=t.elapsed,w=void 0===b?0:b,O=t.playDirection,x=void 0===O?1:O,j=t.flipCount,M=void 0===j?0:j,C=t.yoyoCount,P=void 0===C?0:C,S=t.loopCount,A=void 0===S?0:S,E=tn({from:m,to:y,ease:c}).start(r),T=0,X=!1,Y=function(){return x*=-1},_=function(){T=nn(yt(0,u,w)),E.seek(T)},F=function(){X=!0,e=k.update((function(t){var n=t.delta;w+=n*x,_(),function(){var t,n=1===x?X&&w>=u:X&&w<=0;if(!n)return!1;if(n&&!l&&!s&&!v)return!0;var e=!1;return l&&A<l?(w=0,A++,e=!0):s&&M<s?(w=u-w,E=tn({from:m=(t=[y,m])[0],to:y=t[1],ease:c}).start(r),M++,e=!0):v&&P<v&&(Y(),P++,e=!0),!e}()&&o&&(R.update(e),k.update(o,!1,!0))}),!0)},I=function(){X=!1,e&&R.update(e)};return F(),{isActive:function(){return X},getElapsed:function(){return gt(0,u,w)},getProgress:function(){return T},stop:function(){I()},pause:function(){return I(),this},resume:function(){return X||F(),this},seek:function(t){return w=bt(0,u,t),k.update(_,!1,!0),this},reverse:function(){return Y(),this}}}))},rn=function(t,n,e){return Nt((function(r){var o=r.update,i=n.split(" ").map((function(n){return t.addEventListener(n,o,e),n}));return{stop:function(){return i.forEach((function(n){return t.removeEventListener(n,o,e)}))}}}))},on=function(){return{clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}},un=function(t,n){return void 0===n&&(n={clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}),n.clientX=n.x=t.clientX,n.clientY=n.y=t.clientY,n.pageX=t.pageX,n.pageY=t.pageY,n},an=[on()];if("undefined"!=typeof document){rn(document,"touchstart touchmove",{passive:!0,capture:!0}).start((function(t){var n=t.touches;!0;var e=n.length;an.length=0;for(var r=0;r<e;r++){var o=n[r];an.push(un(o))}}))}var cn=on();if("undefined"!=typeof document){rn(document,"mousedown mousemove",!0).start((function(t){!0,un(t,cn)}))}e.d(n,"wrapGrid",(function(){return vn}));var fn={anticipate:m,backIn:d,backInOut:h,backOut:v,circIn:s,circInOut:l,circOut:p,easeIn:a,easeInOut:f,easeOut:c,linear:function(t){return t}},sn="animateGridId",pn=function(t){return t?Array.prototype.slice.call(t):[]},ln=function(t,n){var e=n.getBoundingClientRect(),r={top:e.top,left:e.left,width:e.width,height:e.height};return r.top-=t.top,r.left-=t.left,r.top=Math.max(r.top,0),r.left=Math.max(r.left,0),r},dn=function(t,n){var e=n.translateX,r=n.translateY,o=n.scaleX,i=n.scaleY,u=n.innerWidth,a=n.innerHeight,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=c.immediate,s=0===e&&0===r&&1===o&&1===i,p=function(){t.style.transform=s?"":"translateX(".concat(e,"px) translateY(").concat(r,"px) scaleX(").concat(o,") scaleY(").concat(i,")")};f?p():k.render(p);var l=t.children[0];if(l){var d=function(){s?(l.style.transform="",l.style.width="",l.style.height=""):(l.style.transform="scaleX(".concat(1/o,") scaleY(").concat(1/i,")"),l.style.width="".concat(u,"px"),l.style.height="".concat(a,"px"))};f?d():k.render(d)}},vn=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n.duration,r=void 0===e?250:e,o=n.stagger,i=void 0===o?0:o,u=n.easing,a=void 0===u?"easeInOut":u,c=n.onStart,f=void 0===c?function(){}:c,s=n.onEnd,p=void 0===s?function(){}:s;if(!fn[a])throw new Error("".concat(a," is not a valid easing name"));var l=!1,d=function(t){l=!0,t(),setTimeout((function(){l=!1}),0)},v={},h=function(n){var e=t.getBoundingClientRect();pn(n).forEach((function(t){if("function"==typeof t.getBoundingClientRect){if(!t.dataset[sn]){var n="".concat(Math.random());t.dataset[sn]=n}var r=t.dataset[sn];v[r]||(v[r]={});var o=ln(e,t);v[r].rect=o,v[r].gridBoundingClientRect=e;var i=t.children[0];i&&(v[r].innerRect=i.getBoundingClientRect())}}))};h(t.children);var m=F()((function(){var n=document.querySelector("body"),e=n&&!n.contains(t);t&&!e||window.removeEventListener("resize",m),h(t.children)}),250);window.addEventListener("resize",m);var g=F()((function(){h(t.children)}),20);t.addEventListener("scroll",g);var y=function(n){if("forceGridAnimation"!==n){if(!n.filter((function(t){return"class"===t.attributeName||t.addedNodes.length||t.removedNodes.length})).length)return;if(l)return}var e=t.getBoundingClientRect(),o=pn(t.children);o.filter((function(t){var n=v[t.dataset[sn]];if(n&&n.stopTween)return n.stopTween(),delete n.stopTween,!0})).forEach((function(t){t.style.transform="";var n=t.children[0];n&&(n.style.transform="")}));var u=o.map((function(t){return{childCoords:{},el:t,boundingClientRect:ln(e,t)}})).filter((function(t){var n=t.el,e=t.boundingClientRect,r=v[n.dataset[sn]];return r?e.top!==r.rect.top||e.left!==r.rect.left||e.width!==r.rect.width||e.height!==r.rect.height:(h([n]),!1)}));if(u.forEach((function(t){var n=t.el;if(pn(n.children).length>1)throw new Error("Make sure every grid item has a single container element surrounding its children")})),u.length){var c=u.map((function(t){return t.el}));d((function(){return f(c)}));var s=[];u.map((function(t){var n=t.el.children[0];return n&&(t.childCoords=ln(e,n)),t})).forEach((function(t,n){var e=t.el,o=t.boundingClientRect,u=o.top,c=o.left,f=o.width,p=o.height,l=t.childCoords,d=l.top,m=l.left,g=e.children[0],y=v[e.dataset[sn]],b={scaleX:y.rect.width/f,scaleY:y.rect.height/p,translateX:y.rect.left-c,translateY:y.rect.top-u},w={translateX:0,translateY:0,scaleX:1,scaleY:1};g&&(g.getBoundingClientRect(),b.innerWidth=y.innerRect.width,b.innerHeight=y.innerRect.height,w.innerWidth=f,w.innerHeight=p);e.style.transformOrigin="0 0",g&&m===c&&d===u&&(g.style.transformOrigin="0 0");var O=function(){},x=new Promise((function(t){O=t}));s.push(x),dn(e,b,{immediate:!0});var j=function(){var t=en({from:b,to:w,duration:r,ease:fn[a]}).start({update:function(t){dn(e,t),k.postRender((function(){return h([e])}))},complete:O}).stop;y.stopTween=t};if("number"!=typeof i)j();else{var M=setTimeout((function(){k.update(j)}),i*n);y.stopTween=function(){return clearTimeout(M)}}})),Promise.all(s).then((function(){p(c)}))}},b=new MutationObserver(y);b.observe(t,{childList:!0,attributes:!0,subtree:!0,attributeFilter:["class"]});var w=function(){window.removeEventListener("resize",m),t.removeEventListener("scroll",g),b.disconnect()},O=function(){return y("forceGridAnimation")};return{unwrapGrid:w,forceGridAnimation:O}}}])}));
//# sourceMappingURL=main.js.map